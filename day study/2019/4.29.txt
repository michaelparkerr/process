9시~10시

비트코인 탄생 계기

기존 인센티브 없던 상황에서 인센티브가 될만한 요인을 수학적으로 계산해서 도입(나카모토 사토시)

네트워크(동일한 업무를 하고자 하는 모임)가 있으면 네트워크 상의 단말을 Node 또는 Peer 또는 Client라 칭함.

Server라는 호칭은 탈중앙화에 맞지 않기 때문에 잘 안 쓰임.

Node에는 서비스를 이용하고자하는 사용자들이 붙음.

Smart Contract에 있는 기능을 사용하거나 송금할 때 Tranaction이 발생.
분산원장에 기록이 남는 것을 거래라고 칭함.

Node에는 DB가 붙고 각 Node에 붙은 DB는 싱크가 맞춰져서 동일한 상태가 유지될 수 있게 해줌.
그리고 Node에는 Tranaction pool이 있다.
Node 이용자의 거래가 Tranaction Pool에 들어가면 이것 역시 각 Node끼리 Sync를 맞춤.

복사 작업은 2가지가 이루어짐.
1. Tranaction Pool에 대한 복사
2. 원장에 대한 복사

Tranaction Pool에 있는 Data를 모아서 요약한 뒤 Node에 있는 DB에 넣기 위해 경쟁함.(2개를 1개씩 합치다보면 마지막 1개가 남음)(블럭에 넣을 Hash에 대한 요약)(이것을 Merkle root라 함.)
Merkle root의 해쉬와 그 이전의 해시값, nonce, difficulty등의 기록을 모아서 처리한다.

경쟁에 성공했다는 보상은 2가지가 주어짐.
1. 수수료
2. 채굴보상.

이 보상은 Coinbase로 간다. 이 Coinbase는 Node에 귀속된다.

1. Core를 만드는 사람(Node,DB,Tranaction pool)
2. Node에서 도는 Program을 개발할 사람(Smart Contract 개발자,Chain Code, dApp 개발자)
3. 사람들이 이것을 쉽게 사용할 수 있도록 UI 개발자가 필요.

이것들을 제대로 만들기 위해서는 설계가 필요함.(서비스를 기획하고 설계하는 사람)

요즘은 Dapp 기획 및 설계자를 많이 뽑는 중.


분산 환경이기 때문에 쫑 나는 경우도 있다.
[1] 포크 이전 상태

[2] 2개의 노드가 거의 동시에 블록을 생성
마이닝을 해서 노드들이 각각 다른 블록을 만든 상황(채굴이란 난이도[네트워크에서 조절함]를 만족하는 nonce를 찾는 것)([버전+시간+머클루트+이전블럭해쉬+난이도](이미 결정되어 있는 값)+nonce)

포크(분기) 이전에 네트워크 상의 모든 노드는 동일한 형태의 블록체인을 가지며, 블록생성작업(mining)을 통해 블록체인을 확장해갑니다.

[3] 생성한 블록을 인접 노드로 전파(늦게 도착한 블록은 무시)
전파될 때 먼저 온 블록이 먼저 채택되고 늦게 온 블록은 버려진다.

[4] 새로운 블록이 생성되고 인접 노드로 전파
당황하지 않고 초록색 블록 뒤에 다시 블록을 붙임.

새롭게 생성한 블록은 인근 노드로 브로드 캐스트하며, 각 노드는 먼저 도착한 블록을 채택하고 늦게 도착한 블록은 무시합니다.

[5] 분기 발생
초록색이 채택되고 빨간색이 버려진다. 

[6] 가장 긴 체인으로 네트워크 재구성

네트워크 상태에 따라 블록의 길이가 다른 블록들이 전달될 수 있으며, 각 노드는 길이가 가장 긴 체인을 채택하고 나머지는 무시해버립니다. 이때 채택받지 못한 블록을 비트코인에서는 스테일 블록(stale block),고아 블록(orpahn block)이라고 하며, 이더리움에서는 엉클 블록(uncle block)이라고 합니다.


분기로 인해 버려지는 블록이 많아지는 경우 트랜잭션 처리 지연, 컴퓨팅 파워 낭비, 난이도 감소를 통한 보안 문제 등이 발생할 수 있습니다.
이것을 처리하기 위해서 나온 알고리즘이 Ghost이다.(이더리움에서는 수정 Ghost)


-----


10시~12시


정보보안개론 책 23p~58p

정보보안(Information Security)

정보 및 정보 시스템을 허가되지 않은 접근, 사용, 공개, 손상, 변경, 파괴 등으로부터 보호함으로써 무결성(integrity), 기밀성(confidentiality), 가용성(availability)을 제공하는 것

무결성(integrity)

적절한 권한을 가진 사용자가 인가된 방법으로만 정보를 변경할 수 있도록 하는 것
공격 유형: 변경(메시지 수정, modification), 가장(masquerading) 재연(재전송,replaying), 부인(repudiation)[행위에 대한 부정,해놓고 안했거나, 안하고 했다고 하는거]
통제 유형: 해싱, 설정 관리, 변경 통제, 물리적/기술적 접근 통제, 소프트웨어 디지털 서명, 전송 CRC 기능 등


기밀성(confidentiality)
인가된 사용자만 정보 자산에 접근할 수 있도록 하는 것
공격 유형 : 스누핑(snooping), 트래픽 분석(traffic analysis)
통제 유형 : 저장 데이터 암호화, 전송 데이터 암호화, 물리적/기술적 접근 통제

가용성(availability)
필요한 시점에 정보 자산에 대한 접근이 가능하도록 하는 것
공격 유형: 서비스 거부(Denial of Service)
통제 유형: RAID, 클러스터링, 로드밸런싱, 중복 데이터 및 전원 선, 소프트웨어 및 데이터 백업, 디스크 쉐도잉, 코로케이션과 오프사이트 시설, 롤백 기능, 대체 작동 설정

------

13시~14시

스니핑 또는 패킷 가로채기 공격은 네트워크 상에 떠돌아다니는 패킷이나 데이터 등을 훔쳐보는 것을 뜻합니다. 대표적인 스니핑 공격으로 ICMP 리다이렉트 이용 및 스위치재밍 등이 있습니다.(소극적 공격에 해당합니다.)

스누핑은 스니핑과 유사한 단어로서 네트워크 상의 정보를 염탐하여 불법적으로 얻는 것을 의미한다.(역시 소극적 공격에 해당)

스푸핑은 '속이다, 사기치다'의 뜻을 가지고 있습니다. 네트워크 트래픽 흐름을 임의로 변경하기, 시스템 권한 탈취하기 등의 공격 등 여러 가지가 될 수 있습니다.(적극적 공격에 해당합니다.)


예전에는 규칙을 알리지 않는 것이 중요했음.(P A E중에 A를 숨기는 것.)(규칙을 숨기는 것.)
규칙의 예) RSA
지금은 A를 누구나 다 알지만, Key를 노출시키지 않으면 E에서 P를 역산하는 것이 불가능.

보안강도=비도

ex) 비도 128이다 이러면 2^128 경우의 수라는 것. 2^256...2^512...

2^128을 2^512보다 더 권장하고 있음.
정상적인 암호 복호화 과정에서 비도가 커지면 비용이 증가하기 때문에 적절한 보안 강도를 유지해야함.
여기서 적절하다는 것은 현 시점 컴퓨팅파워(연산속도) 기준으로 생각한 것이다.

2013년도에는 공인인증서에 사용되는 공개키, 암호화키가 기존 1024비트였는데 2048비트로 늘어남.(나라에서 보안강도 기준을 세우고 관리한다.)

비도는 키 길이에 비례한다.

일반적으로 보안강도가 128이면 키 길이가 128비트이다.

안전한 보안강도를 유지해주는 키 길이는 대칭키일때 128비트, 비대칭키일때 2048비트이다.



암호라는 단어가 시큐어 코딩에서 나올 때 3가지를 확인해야한다.

1. 안전한 암호 알고리즘 사용(보안 강도가 보장되는 알고리즘)(옛날에 만들어져서 일정길이 이상의 키 길이를 못 받아들이는 것)(인코딩 디코딩을 사용하는 것)[요즘에는 사용하지 않음]

2. 적절한 키 길이 사용(대칭키 128,비대칭키 2048)

3. 키 관리(키를 안전하게 생성 관리 해야됨)
안전하지 않은 예) 소스코드에 키를 하드코딩하는 것.(키는 관리될 때 사용하는 곳과 분리시켜 저장되어야한다.)

RAID 하나가 죽더라도 접근가능 할 수 있게 하는것.
클러스터링(서버, 네트워크 단위로 묶는것)
로드밸런싱(여러개의 서버,네트워크를 만들어서 부하를 분산시키는 것)
중복데이터 및 전원선(데이터 복사해두기)
백업(비슷함)
코로케이션(서버를 동일한 지역에 두지 않는 것, 중요 기반 시설 관리할 때)

CISA(국제 정보 시스템 관리 자격)(사)한국정보시스템감사통제협회

White Hacker K-shield 과정을 받으면 됨(해마다 KISA 아카데미에서 선발)

Java Script 권장(ES6 들어가있는 것)

요즘 우분투를 많이 사용.

국가 해커들도 오픈 소스 기반 툴을 많이 사용한다.(그만큼 기능이 많이 좋아졌다는 얘기)

-----

14시~15시

정보보안개론 59p~67p

https://myanjini.tistory.com/50

식별->인증->인가->Resource 과정이 추적 가능해야한다. 그래야 Resource가 보호받을 수 있다.

취약점 db사이트
https://www.exploit-db.com/
이 사이트에서 취약점을 확인하고 그것을 기반으로 공격함. 업데이트 안하면 취약점 노출됨.

주체가 객체에 접근하기 위해서는 식별,인증,인가,책임추적성 네 단계를 거쳐야 하며, 접근통제를 통해 구현.

식별(identification)
주체(사용자, 프로그램, 프로세스 등) 가 주장하는 실재라는 것을 확인하는 방법을 설명
예)user name, user id, account number

인증(authentication)
정확한 식별을 위해 식별 정보에 개인이 아는 것, 개인이 가지고 있는 것, 개인 자체에 대한 정보를 함께 제공하여 주장하는 신원이 본인이라는 것을 증명하는 것)
(something a person knows, something a person has, something a person is)

인가(authorization)
접근하고자 하는 시스템이 해당 주체가 요청한 행위를 수행하기 위해 필요한 권한과 특권을 부여받았는지를 판단하여 허가하는 것
해당 주체가 실제로 요청한 리소스에 접근할 수 있고 요청한 작업을 수행할 수 있는가를 확인

책임추적성(accountability)
고유하게 식별된 주체의 행위를 기록하여, 주체가 실행한 행위에 대해 책임을 부여하는 것
객체에 대한 주체의 활동을 추적하기 위한 감사 로그와 모니터링

TYPE1 지식에 의한 인증(authentication by knowledge)
개인이 기억하고 있는 정보를 이용하여 인증을 수행
일반적으로 구현을 위한 비용이 가장 적게 드는 방법
단점 : 다른 사용자가 지식을 획득하여 허가되지 않은 접근을 획득할 수 있음

TYPE2 소유권에 의한 인증(authentication by ownership)
개인이 가지고 있는 것을 이용하여 인증을 수행
시설에 접근하는 보편적인 방법으로 시스템 인증에도 사용될 수 있음
단점 : 인증에 사용되는 물건을 분실, 도난 당했을 경우 허가되지 않은 접근이 유발될 수 있음

TYPE3 특성에 의한 인증(authentication by characteristic)
개인 자체에 대한 정보를 이용하여 인증을 수행
생체인식(biometrics) : 개인의 고유한 육체적 속성을 기반하여 사용자의 신원을 인증하는 것
예: 지문, 정맥, 홍체, 성문, 필기체 서명 등

2 팩터 인증(two-factor authentication)
2가지 인증 방식을 혼용하여 인증을 수행

다중 인증(multi-autentication)
두 가지 이상의 인증 방식을 혼용하여 인증을 수행하는 것

---

15시~16시

관리자 그룹(administrators) 관리

관리자 그룹(administrators)에는 관리자 권한이 필요한 사용자(예 : administrator)를 제외하고는 포함하지 않는다.
관리자 그룹(administrators) 구성원은 해당 컴퓨터에 대해 모든 권한을 갖기 때문에 구성원 수를 제한한다.


관리자 그룹에 소속된 계정 확인 및 삭제
-로컬 사용자 및 그룹 관리 콘솔 실행(lusrmgr.msc)>그룹>Administrators 그룹 선택> 마우스 오른쪽 클릭 후 속성 메뉴 클릭> 구성원 선택> 제거 버튼 클릭
-명령 프롬프트(관리자 권한으로 실행)net localgroup administrators>net


불필요한 계정 관리
-사용하지 않는 계정, 불필요한, 계정, 의심스러운 계정이 있는지 점검하고, 사용하지 않는 계정은 삭제
-임시로 생성한 계정이나, 퇴사자의 계정은 악용될 수 있으므로 찾아서 삭제하고, 만약 증적을 위해 남겨야 하는 경우에는 "계정 사용 안 함"으로 설정

계정 확인 및 삭제 방법
- 명령 프롬프트(관리자 권한으로 실행)>net user username delete

"계정 사용 안 함" 설정 방법
- 로컬 사용자 및 그룹 관리 콘솔 실행(lusmgr.msc)>사용자>불필요한 계정 선택>마우스 오른쪽 클릭 후 속성 메뉴 선택> "계정 사용 안 함" 선택 후 확인 버튼 클릭
- 명령 프롬프트 (관리자 권한으로 실행) > net user username /ACTIVE:NO


관리자(administrator) 계정 관리
- Administrators 계정은 Administrators 그룹에서 삭제할 수 없지만, 계정 이름을 변경하거나 "계정 사용 안 함"으로 설정이 가능
- Administrator 계정은 기본적으로 제공되는 계정으로 계정명이 잘 알려져 있어 패스워드 추측 공격이 가능하므로, Administrator 계정의 이름을 변경하거나, "계정 사용 안 함"으로 설정하는 것이 안전


계정 이름 변경 방법
-로컬 사용자 및 그룹 관리 콘솔 실행(lusrmgr.msc)>사용자>Administrator 계정 선택>F2(또는 마우스 오른쪽 클릭 후 이름 바꾸기 메뉴 선택>새 이름 입력


"계정 사용 안 함" 설정 방법
-로컬 사용자 및 그룹 관리 콘솔 실행(lusrmgr.msc)>사용자>Administrator 계정 선택> 마우스 오른쪽 클릭 후 속성 메뉴 선택>"계정 사용 안 함" 선택 후 확인 버튼 클릭
-명령 프롬프트(관리자 권한으로 실행) > net user administrator /ACTIVE:NO


Guest 계정 관리
-Guest 계정은 암호를 필요로 하지 않아 보안상 취약
-Guest 계정이 활성화되어 있을 경우 Guest 계정으로 로그인하여 시스템 정보를 탈취하거나 관리자 그룹에 등록하여 권한상승과 같은 악성행위를 시도할 수 있으므로, Guest 계정을 "계정 사용 안 함"으로 설정하는 것이 안전(기본적으로 "계정 사용 안 함"으로 설정되어 있음)

"계정 사용 안함" 설정 방법
- 로컬 사용자 및 그룹 관리 콘솔 실행(lusrmgr.msc)>사용자>Guest 계정 선택> 마우스 오른쪽 클릭 후 속성 메뉴 선택> "계정 사용 안 함" 선택 후 확인 버튼 클릭
- 명령 프롬프트 (관리자 권한으로 실행>net user guest /ACTIVE:NO

사고사례
퇴사자 계정을 살려뒀다가 퇴사자가 네트워크에 접속하여 DB에 암호화된 개인정보들에 접근하지 못하자 로그에 있는 개인정보들에 접근하여 유출한 사례

계정을 만드는 것은 add
net user (계정명) /add

그룹에 추가하는 것도 add
net localgroup (그룹명) (계정명) /add
그룹에서 빼는 건 delete
net localgroup (그룹명) (계정명) /delete

NET 명령어 사용법 확인
C:\WINDOWS\system32>net /help
이 명령에 대한 구문:

NET
    [ ACCOUNTS | COMPUTER | CONFIG | CONTINUE | FILE | GROUP | HELP |
      HELPMSG | LOCALGROUP | PAUSE | SESSION | SHARE | START |
      STATISTICS | STOP | TIME | USE | USER | VIEW ]

C:\WINDOWS\system32>net localgroup /help
이 명령에 대한 구문:

NET LOCALGROUP
[groupname [/COMMENT:"text"]] [/DOMAIN]
              groupname {/ADD [/COMMENT:"text"] | /DELETE}  [/DOMAIN]
              groupname name [...] {/ADD | /DELETE} [/DOMAIN]

NET LOCALGROUP은 컴퓨터의 로컬 그룹을 수정합니다. 매개 변수 없이
사용되면 컴퓨터의 로컬 그룹을 표시합니다.

groupname        추가, 확장 또는 삭제할 로컬 그룹의 이름입니다.
                 로컬 그룹에서 사용자 또는 글로벌 그룹의 목록을 볼
                 그룹 이름만 제공하십시오.
/COMMENT:"text"  새 그룹 또는 기존 그룹에 대한 주석을 추가합니다.
                  텍스트를 따옴표 안에 넣으십시오.
/DOMAIN          현재 도메인의 도메인 컨트롤러에서 작업을 수행
                 합니다. 그렇지 않으면 작업이 로컬 워크스테이션에서
                 수행됩니다.
name [ ...]      로컬 그룹에서 추가하거나 제거할 사용자 이름 또는
                 그룹 이름을 하나 이상 나열합니다. 항목이 여러 개일 경우에는
                 공백으로 분리하십시오. 이름이 사용자 또는 글로벌 그룹일 수는
                 있지만 다른 로컬 그룹일 수는 없습니다. 사용자가 다른 도메인에
                 있는 경우에는 사용자 이름 앞에 도메인 이름을 접두사로 붙이십시오
                 (예: SALES\RALPHR).
/ADD             로컬 그룹에 그룹 이름 또는 사용자 이름을 추가합니다. 이 명령을
                 사용하여 로컬 그룹에 추가된 사용자 또는 글로벌 그룹에는 계정이
                 설정되어야 합니다.
/DELETE          로컬 그룹에서 그룹 이름 또는 사용자 이름을 제거합니다.

NET HELP command | MORE는 도움말을 한 번에 한 화면씩 표시합니다.

admin 계정 생성 후 administrators 그룹에 추가

C:\WINDOWS\system32>net users

\\DESKTOP-J0QRNCA에 대한 사용자 계정

-------------------------------------------------------------------------------
Administrator            DefaultAccount           Guest
myanj                    WDAGUtilityAccount
명령을 잘 실행했습니다.


C:\WINDOWS\system32>net user admin /add
명령을 잘 실행했습니다.


C:\WINDOWS\system32>net users

\\DESKTOP-J0QRNCA에 대한 사용자 계정

-------------------------------------------------------------------------------
admin                    Administrator            DefaultAccount
Guest                    myanj                    WDAGUtilityAccount
명령을 잘 실행했습니다.


C:\WINDOWS\system32>net localgroup administrators
별칭     administrators
설명     컴퓨터 도메인에 모든 액세스 권한을 가진 관리자입니다.

구성원

-------------------------------------------------------------------------------
Administrator
myanj
명령을 잘 실행했습니다.


C:\WINDOWS\system32>net localgroup administrators admin /add
명령을 잘 실행했습니다.


C:\WINDOWS\system32>net localgroup administrators
별칭     administrators
설명     컴퓨터 도메인에 모든 액세스 권한을 가진 관리자입니다.

구성원

-------------------------------------------------------------------------------
admin
Administrator
myanj
명령을 잘 실행했습니다.


C:\WINDOWS\system32>





콘솔 환경에서 --help쳐서 나오는 도움말 잘 확인해보기(읽을 줄 알아야 네트워크 없는 환경에서 사용 가능)
남들이 안 외우는 깊은 단계의 전문 지식도 다 외워서 사용할 수 있어야 전문가임.



ls -l /etc/passwd

읽고쓰고 읽고읽고

ls -l /etc/shadow

읽고쓰고 제한됨 제한됨 섀도우 쪽이 더 안전함.

gedit /etc/passwd 치면 etc 밑의 패스워드 파일을 볼 수 있음.(줄단위로 계정이 명시되어있음)(네트워크 보안 개론 73page)

사용자 번호 (UID) 0 
그룹 번호(GID)

grep -E "root|ubuntu" /etc/passwd  etc/passwd에서 root|ubuntu가 들어가있는 것을 출력하는 결과를 보여줘라

윈도우에서는 cmd>net localgroup 그룹 리스트 나옴
리눅스에서는 터미널>cat /etc/group 하면 그룹 리스트 나옴

윈도우에서 type 파일명 치면 콘솔에서 출력된 내용을 볼 수 있음.

sudo gedit /etc/shadow/ 하면 shadow 파일 볼 수 있음.

리눅스에서는 type 명령어가 없고
윈도우는 cat 명령어가 없다.

앞에 나오는 것이 명령어 뒤에 나오는 것은 sub명령어 또는 option, 그 다음 파라미터가 나온다.

(명령어) (sub 명령어 or 옵션) (sub 명령어 or 옵션) (파라미터)

ls 명령어는 어디서 온걸까?

깔렸는데도 명령어가 인식이 안될 때는 경로가 잘못 지정되었기 때문이다.
윈도우 명령어 창에서 set PATH치면  Path=~~~~~~~~~~~ 이하 ;들로 연결된 문장이 나온다.

type을 치면 type을 친 디렉토리에서 우선해서 찾는다. 윈도우에서는 실행가능한 exe,bat,cmd를 먼저 찾음.
C:\Windows 찾고, 없으면 C:Windows\system32 찾고, 없으면 C:\windows\system32\... 순서대로 찾음.

집에 못가는 문제 중 하나로
cmd창을 띄워서 노드를 설치한 상황. 노드에 환경변수를 추가할까요? 네 라고 선택.
그러면 다 깔았을 때 노드 명령어를 쳤는데 안됨, 그러면 SET PATH를 먼저 쳐본다. 다 있는데 왜 안되는걸까?
CMD를 닫고 다시 켜야지 Node 설치될 때의 환경변수를 물고 올라옴.

VSC 설치 후 노드 프로그램도 설치 완료. 근데 명령어를 쳐도 안먹힌다.
그럴 때는 노드를 내렸다가 다시 올려야지 명령어가 먹힘.(환경변수를 다시 설정)
즉, 경로를 설정하는 것의 중요성. 반영된 경로를 못 물고 올라왔거나, 경로가 안 잡혀있거나(안잡혀있으면 추가 해줘야함). 둘다 안되면 다른 문제인건데 이런 경우는 정말 드뭄.


Shadow 파일 구성

root(1) : $1$9L~L0oTwd(2) : 12751(3) : 0(4) : 99999(5) : 7(6) : (7): (8): (9):
(1)사용자 계정
(2)암호화된 사용자의 패스워드($1$=MD5,$5$=SHA256,$6$=SHA512)
(3)1970년 1월 1일부터 마지막으로 패스워드를 변경한 날까지의 일자 수
(4)패스워드를 변경하기 전에 패스워드를 사용한 기간(0=최초 설정 후 변경하지 않음)
(5)패스워드를 변경하지 않고 사용할 수 있는 기한
(6)패스워드 변경기한 만료 며칠 전부터 경고메세지를 보여줄지를 설정
(7)계정에 대한 사용 제한을 설정하고 며칠 후에 완전히 사용을 정지할지 설정
(8)1970년 1월 1일부터 계정이 완전 사용 정지된 날까지의 일자 수
(9)관리자가 임의로 사용할 수 있는 부분